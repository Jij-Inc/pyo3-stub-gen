version: '3'

tasks:
  stub-gen:
    desc: Generate stub file
    cmds:
      - cargo run --bin stub_gen
    sources:
      - src/**/*.rs
      - Cargo.toml
    generates:
      - python/**/*.pyi

  test:
    desc: Run tests
    cmds:
      - task: stub-gen
      - uv run pyright
      - uvx ruff check
